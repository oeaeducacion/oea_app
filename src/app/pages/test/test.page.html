<ion-header>
  <ion-toolbar>
    <section class="ion-text-center">
      <ion-icon name="stopwatch-sharp" color="light" style="font-size: 15vw"></ion-icon>
      <div class="time-countdown">
        <ul>
          <li class="radius mx-2"><span id="hours">{{hours}} :</span>Horas</li>
          <li class="radius mx-2"><span id="minutes">{{minutes}} :</span>Minutos</li>
          <li class="radius mx-2"><span id="seconds">{{seconds}}</span>Segundos</li>
        </ul>
      </div>
    </section>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row *ngIf="examen">
    <ion-col class="ion-text-center" size="12" style="margin-bottom: 5vw ">
      <ion-chip style="background: #2E3541;color: white; font-weight: bold ">
        {{_examen.nombre_formulario}}
      </ion-chip>
    </ion-col>
    <ion-col size="12">
      <app-body [examen]="_examen"></app-body>
    </ion-col>
  </ion-row>
  <ion-fab vertical="bottom" horizontal="center" slot="fixed">
    <ion-fab-button (click)="setOpen(true, false, 'ESTÁS A PUNTO FINALIZAR TU EXÁMEN')">
      <ion-icon style="font-size: 8vw" color="light" name="send-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
<!--MODAL-->
<ion-modal #modal [isOpen]="isModalPay">
  <ng-template>
    <ion-content style=" --background: #f4f5f8;">
      <ion-toolbar style="--background: linear-gradient(90deg, var(--ion-color-danger)10%, var(--ion-color-primary)100%);">
        <ion-buttons slot="start">
          <ion-button color="light"  *ngIf="nota==false" (click)="closeModal(false)">Cerrar</ion-button>
          <ion-button color="light"  *ngIf="nota==true" (click)="exit()">Salir</ion-button>
        </ion-buttons>
        <ion-title *ngIf="nota==true" style="color: #ffffff;">EXAMEN FINALIZADO</ion-title>
        <ion-buttons slot="end">
          <ion-button color="light" *ngIf="nota==false" (click)="finalizarExamen()">Finalizar</ion-button>
        </ion-buttons>
      </ion-toolbar>
      <ion-row>
        <ion-col class="ion-text-center" size="12">
          <ion-chip style="background: #2E3541;color: white; font-weight: bold ">
            <ion-text style="font-size: 4vw">{{titulo}}</ion-text>
          </ion-chip>
        </ion-col>
        <ion-col size="12">
          <div class="ion-text-center">
            <h4 *ngIf="nota==true">TU NOTA ES: <b>{{nota_evaluacion}}</b></h4>
            <h6><b>Tus Respuestas:</b></h6>
            <ion-row *ngFor="let examen of preguntas, index as id">
              <ion-col size="12" style="margin-top: -8vw">
                <ion-card style="border-left: 4px solid #2E3541">
                  <ion-card-content>
                    <h5 style="text-align: justify"><b>{{id+1+'.-'}} {{examen.preguntas.texto}}</b></h5>
                    <br>
                    <div class="ion-text-center" *ngIf="!nota">
                      <div *ngIf="examen.respuesta">
                        <h6 style="color: seagreen">
                          {{examen.respuesta}}
                        </h6>
                      </div>
                      <div *ngIf="!examen.respuesta">
                        <h6 style="color: red">
                          Sin Responder
                        </h6>
                      </div>
                      <br>
                    </div>
                    <div class="ion-text-center" *ngIf="nota">
                      <div *ngIf="examen.respuesta">
                        <h6 *ngIf="examen.resultado==true" style="color: seagreen">
                          {{examen.respuesta}}
                        </h6>
                        <h6 *ngIf="examen.resultado==false" style="color: red">
                          {{examen.respuesta}}
                        </h6>
                      </div>
                      <div *ngIf="!examen.respuesta">
                        <h6 class="text-danger">
                          Sin Responder
                        </h6>
                      </div>
                      <br>
                    </div>
                  </ion-card-content>
                </ion-card>
              </ion-col>
            </ion-row>
          </div>
        </ion-col>
      </ion-row>
    </ion-content>
  </ng-template>
</ion-modal>
